Stemming > Besluit > Zaak (n)

Zaak['Titel']
- soort is Wetgeving
- mag niet langer zijn dan x karakters
- mag niet bevatten: 'samenvoegen gemeentes'
- Herindeling van de gemeenten

Run shell: python manage.py shell_plus

from django.db.models import Q
from django.db.models import TextField
from django.db.models import CharField
from django.db.models.functions import Length

CharField.register_lookup(Length)
TextField.register_lookup(Length)

votes = Stemming.objects.exclude(Q(besluit__zaak__titel__icontains='gemeente') and Q(besluit__zaak__titel__icontains='amenvoeg')).filter(besluit__zaak__soort = 'Wetgeving', besluit__zaak__titel__length__lt = 144).exclude(besluit__stemming_soort='').exclude(besluit__zaak__titel__icontains='herindeling van de gemeenten')

votes = Stemming.objects.exclude(Q(besluit__zaak__titel__icontains='gemeente') and Q(besluit__zaak__titel__icontains='amenvoeg')).filter(besluit__zaak__soort = 'Wetgeving').exclude(besluit__stemming_soort='').exclude(besluit__zaak__titel__icontains='herindeling van de gemeenten')

titels = set()

for vote in votes:
    titels.add(vote.besluit.zaak.titel)
for titel in titels:
    print(titel)

len(titels)